{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///Users/ben/Downloads/mainmainmain/frontend/src/lib/axiosInstance.ts"],"sourcesContent":["'use client'\n\nimport axios from \"axios\"\nimport { getSession } from \"next-auth/react\"\n\nconst backendAPI = axios.create({\n  baseURL: \"http://localhost:8000\", // Backend URL\n})\n\nbackendAPI.interceptors.request.use(async (config) => {\n  const session = await getSession()\n\n  if (session?.idToken) {\n    config.headers.Authorization = `Bearer ${session.idToken}`\n  }\n\n  return config\n})\n\nexport default backendAPI\n"],"names":[],"mappings":";;;AAEA;AACA;AAHA;;;AAKA,MAAM,aAAa,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;AACX;AAEA,WAAW,YAAY,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO;IACzC,MAAM,UAAU,MAAM,CAAA,GAAA,8IAAA,CAAA,aAAU,AAAD;IAE/B,IAAI,SAAS,SAAS;QACpB,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,QAAQ,OAAO,EAAE;IAC5D;IAEA,OAAO;AACT;uCAEe","debugId":null}},
    {"offset": {"line": 136, "column": 0}, "map": {"version":3,"sources":["file:///Users/ben/Downloads/mainmainmain/frontend/src/app/dashboard/page.tsx"],"sourcesContent":["'use client'\n\nimport { useSession, signOut } from 'next-auth/react'\nimport { useState, useEffect } from 'react'\nimport backendAPI from '@/lib/axiosInstance'\n\n\nconst meals = [\n  { title: 'Meal 1', description: 'Description of meal 1.' },\n  { title: 'Meal 2', description: 'Description of meal 2.' },\n  { title: 'Meal 3', description: 'Description of meal 3.' },\n  { title: 'Meal 4', description: 'Description of meal 4.' },\n]\n\nexport default function DashboardPage() {\n  const { data: session, status } = useSession()\n\n  const [currentMealIndex, setCurrentMealIndex] = useState(0)\n  const [analytics, setAnalytics] = useState<any>(null)\n\n  // Automatic slideshow - change meal every 4 seconds\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setCurrentMealIndex((prevIndex) => (prevIndex + 1) % meals.length)\n    }, 4000)\n\n    return () => clearInterval(interval) // Cleanup on unmount\n  }, [])\n\n  // Fetch Analytics from Backend after login\n  useEffect(() => {\n    const fetchAnalytics = async () => {\n      try {\n        const response = await backendAPI.get(\"/user/analytics\")\n        setAnalytics(response.data.analytics)\n      } catch (error) {\n        console.error(\"Error fetching analytics:\", error)\n      }\n    }\n\n    if (status === \"authenticated\") {\n      fetchAnalytics()\n    }\n  }, [status])\n\n  if (status === 'loading') return <p>Loading session...</p>\n  if (status === 'unauthenticated') return <p>You must be logged in to view this page.</p>\n\n  return (\n    <div className=\"flex p-6\">\n      {/* Left Side: Google Calendar */}\n      <div className=\"w-1/3 pr-6 mt-1\">\n        <h2 className=\"text-xl font-semibold mb-4\">Your Google Calendar</h2>\n        <iframe\n          src={`https://calendar.google.com/calendar/embed?src=${session?.user?.email}&ctz=America%2FNew_York&mode=AGENDA`}\n          style={{\n            border: 0,\n            width: '100%',\n            height: '90vh',\n          }}\n          frameBorder=\"0\"\n        />\n      </div>\n\n      {/* Right Side: Profile and Content */}\n      <div className=\"w-2/3\">\n        {/* Profile Header - Top Right */}\n        <div className=\"flex justify-between items-center\">\n          <h1 className=\"text-xl font-bold mt\">Hello, {session?.user?.name}!</h1>\n          <div className=\"flex items-center space-x-4\">\n            {session?.user?.image && (\n              <img\n                src={session.user.image}\n                alt=\"User Profile\"\n                className=\"w-12 h-12 rounded-full\"\n              />\n            )}\n            <button\n              onClick={() => signOut()}\n              className=\"px-4 py-2 bg-red-500 text-white rounded-xl hover:bg-red-600\"\n            >\n              Sign Out\n            </button>\n          </div>\n        </div>\n\n        {/* Analytics Section */}\n        <div className=\"mt-6 p-6 bg-gray-100 rounded-xl shadow-md w-full max-w-2xl\">\n          <h2 className=\"text-2xl font-semibold mb-4 text-gray-950\">Your Meal Analytics</h2>\n          {analytics ? (\n            <div className=\"space-y-2 text-gray-800\">\n              <p><strong>Average Calories per Meal:</strong> {analytics.average_calories_per_meal} kcal</p>\n              <p><strong>Average Macros per Meal:</strong> Protein {analytics.average_macros_per_meal.protein}, Carbs {analytics.average_macros_per_meal.carbs}, Fats {analytics.average_macros_per_meal.fats}</p>\n              <p><strong>Goal Tracking:</strong> {analytics.goal_tracking}</p>\n              <p><strong>Most Popular Meal Times:</strong> {analytics.most_popular_meal_times.join(\", \")}</p>\n            </div>\n          ) : (\n            <p>Loading analytics...</p>\n          )}\n        </div>\n\n        {/* Potential Meals Slideshow Section */}\n        <div className=\"mt-6 p-6 bg-gray-100 rounded-xl shadow-md w-full max-w-xs overflow-hidden\">\n          <h2 className=\"text-2xl font-semibold mb-4 text-gray-950\">Potential Meal</h2>\n\n          <div className=\"relative\" style={{ height: '200px', position: 'relative' }}>\n            <div\n              className=\"flex transition-transform duration-1000 ease-in-out\"\n              style={{\n                transform: `translateX(-${currentMealIndex * 100}%)`,\n                display: 'flex',\n                gap: '16px',\n              }}\n            >\n              {meals.map((meal, index) => (\n                <div\n                  key={index}\n                  className=\"w-full p-15 bg-gray-300 rounded-lg shadow-md text-gray-950\"\n                  style={{\n                    minWidth: 'calc(100% - 16px)',\n                  }}\n                >\n                  <h3 className=\"font-semibold text-xl\">{meal.title}</h3>\n                  <p className=\"mt-2 text-gray-700\">{meal.description}</p>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}